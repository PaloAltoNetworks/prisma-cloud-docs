:topic_type: task
== Add CircleCI CI/CD Systems to Prisma Application Application Security 

Integrate CircleCI CI/CD systems (CircleCI) with Prisma Cloud to gain visibility into and monitor CircleCI and all systems, technologies and processes in your environment connected to CircleCI. This integration allows Prisma Cloud to scan your CircleCI environment and provide the results of the scan, allowing you to understand and fix issues as soon as they are detected.  

[.procedure]

. Fullfil the following requirements before integrating CircleCI with Prisma Cloud: 
+

* Allow access to Prisma Cloud: xref:https://docs.paloaltonetworks.com/prisma/prisma-cloud/prisma-cloud-admin/get-started-with-prisma-cloud/enable-access-prisma-cloud-console#id7cb1c15c-a2fa-4072-%20b074-063158eeec08[add Prisma Cloud IP addresses and hostnames for Application Security] to an allow list

* *Permissions*: To grant Prisma Cloud visibility for all CircleCI projects, a version control system (VCS) user must be authorized to grant access. This is because the CircleCI user base is integrated with the (VCS), and inherits permissions granted to VCS users  
+

 NOTE: Best practice: Create a dedicated VCS user to integrate CircleCI with Prisma Cloud, to prevent the integration breaking if the user leaves the organization.

* Verify that the dedicated user follows all the organization's projects in CircleCI

* Create a personal API token (see *step 2* below).  The main reason Prisma Cloud requires personal API tokens is to allow reading the configurations from CircleCI for all the projects that a user tracks

. Generate a personal API token in CircleCI:

.. Login to your CircleCI instance with VCS user credentials.+

WARNING: CircleCI utilizes the VCS user visibility. For example, if a GitHub user has access to specific organizations and repositories, these entities are visible and available in CircleCI.

.. xref:https://circleci.com/docs/managing-api-tokens/#creating-a-personal-api-token%5BCreate%20and%20save%20a%20personal%20API%20token%20in%20CircleCI%5D[Create and save a personal API token in CircleCI].

. In Prisma Cloud: 

.. Select *Settings* > *Code & Build Providers* > *Add* > *CircleCI* (under CI/CD Systems).
+
The CircleCI integration wizard is displayed.

image:: int-circleci-ci-cd-systems1.png 

.. Select *Add Integration* from the CircleCI integration wizard.

.. Fill in the following details in the provided fields of the wizard:
+

* *Integration Name*: an alias allowing you to identify the integration

* *Personal API Token*: the personal API token generated in _step 2_ above

.. Select *Create*.
+
The Prisma Cloud Application Security module is integrated with your CircleCI system.

. Verify that the CircleCI integration is successful:

.. Select *Settings* > *Code & Build Providers* > select the *CI/CD Systems* tab. 

.. Verify that the status of the *CircleCI* integration under *Status* displays *Succeeded*.
+

NOTE: You may have to wait for up to three minutes before the status of the integration is updated and displays *Succeeded*. 


=== Integrate Multiple CircleCI CI/CD Systems 

. Repeat *steps 1-3* of the integration process above.

=== Edit Integration Names

. Repeat step *2a* of the integration process above.

. Select *Edit integration name* from the the *Actions* menu in the row of the CircleCI instance to be modified > edit the name > *Done*.

=== Delete an integration

. Repeat step *2a* of the integration process above.

. Select the *Actions* menu in the row of the CircleCI instance to be deleted > *Remove integration* > *Done*.
// Shlomi - is there a popup?