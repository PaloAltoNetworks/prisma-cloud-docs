:topic_type: task

[.task]
== Add GitLab to Prisma Cloud Application Security

Integrating Prisma Cloud with GitLab makes it possible for Application Security to scan your Infrastructure-as-code files (Terraform and CloudFormation) and monitor configuration issues in development.

As a prerequisite you are required to add the Prisma Cloud IP addresses and hostname for Application Security to an allow list, to https://docs.paloaltonetworks.com/prisma/prisma-cloud/prisma-cloud-admin/get-started-with-prisma-cloud/enable-access-prisma-cloud-console.html[enable access to the Prisma Cloud Console].

It is recommended to perform the integration when logged on to GitLab with Admin user permissions.

[.procedure]

. Select *Settings > Code & Build Providers > Add*.
+
image::add-repository.png[width=600]

. Select *GitLab*.
+
image::gitlab-1.png[width=575]

. Configure your GitLab account on Prisma Cloud Application Security and then select *Next*.
+
image::gitlab-2.png[width=575]

. Select the repositories to scan and then select *Next*.
+
image::gitlab-3.png[width=575]

. A *New account successfully configured* message appears after you have successfully set up the configurations and then select *Done*.
+
image::gitlab-4.png[width=575]
+
Your configured GitLab repositories will appear on the *Repositories* page. On your next GitLab scan, the scan results will include the new configured repositories. Access *Application Security* to view the scanned results.

. Verify that the GitLab integration is successful:

.. Select *Settings* > *Code & Build Providers* > select the *CI/CD Systems* tab.

.. Verify that the status of the *GitLab* integration under *Status* displays *Succeeded*.
+
NOTE: You may have to wait for up to three minutes before the status of the integration is updated and displays *Succeeded*.

[.task]
=== Support for multiple integrations

Prisma Cloud supports multiple integrations for GitLab. After the initial integration with Prisma Cloud, you can continue to add additional organizations and workspaces using a different or a same user or team token.

Multiple integrations from a single Prisma Cloud account enables you to:

* View a list of integrations on a single console.
* Update existing integrations by modifying the selection of workspaces.
* Add additional integrations using user or team tokens.
* Delete an existing integration.

[.procedure]

. Add additional integrations to a configured GitLab Self-Managed account.

.. Select *Settings* > *Code & Build Providers* > *Add*.

.. Under *Code Repositories* select *GitLab*.

.. Select *Add Integration* in the wizard that is displayed.
+
image::gitlab-add-integration.png[800]

//The *Configure Domain* step of the installation wizard is displayed - see step 3 above

//.. Execute *steps 3 - 6* of the GitLab installation process above.

The new integration is displayed in the *Configured Integrations* step of the wizard. Your configured GitLab Self-managed repositories will appear on the *Code & Build Providers* page. On your next GitLab Self-managed scan, the results will include the new configured repositories.

//Access xref:projects.adoc[Projects] to view the scanned results.

// verify if Code Security has not been changed

Manage Integrations

Manage integrations from the integration wizard.

//. Repeat steps 1-2 of <<Support for multiple integrations>> above > select the menu under *Actions*.

* Add or remove repositories from GitLab: Select *Reselect repositories*

* Delete a GitLab integration: Select *Delete integration*


// To check if deleting a single integration within the account deletes the account configuration on Prisma Cloud console.

