:topic_type: task

[.task]
== Scan images on OpenShift's integrated Docker registry

To scan a an OpenShift integrated registry, create a new registry scan setting.

*Prerequisites:*

* You've xref:../../install/defender_types.adoc#[installed a Defender] somewhere in your environment.
* You've obtained a https://docs.openshift.com/container-platform/3.5/rest_api/index.html#rest-api-docker-login[service account token].

[.procedure]
. Open Console, then go to *Defend > Vulnerabilities > Registry*.

. Click *Add registry*.

. In *Version*, select *Red Hat OpenShift*.

. Enter the registry address in the *Registry* field.

. In *Repository* , specify the repository to scan.
+
If you leave this field blank or enter a wildcard, Prisma Cloud finds and scans all repositories in the registry.
+
If you specify a partial string that ends with a wildcard, Prisma Cloud finds and scans all repositories that start with the partial string.
+
If you specify an exact match, Prisma Cloud scans just the specified repository.

. Click in the *Credential* field, then click *Add new*.
+
// Specifying credentials for OpenShift's integrated registry: https://github.com/twistlock/twistlock/issues/17150

.. Select the *Basic authentication* credential type

.. In *Username*, enter any arbitrary value.

.. In *Password*, enter your service account token.

.. Save your credentials.

. In *OS type*, specify whether the repo holds *Linux* or *Windows* images.

. In *Scanner*, select *Automatic*.
+
Console automatically selects an available Defender to execute the scan job.
Alternatively, you can explicitly select a Defender from the drop-down list.
Defenders are listed according to the hosts where they run.
For more information, see xref:../../vulnerability_management/registry_scanning.adoc#_deployment_patterns[deployment patterns].

. In *Number of scanners*, enter the number of Defenders across which scan jobs can be distributed.

. Set *Cap* to the number of most recent images to scan.
Leaving *Cap* set to *5* will scan the 5 most recent images.
Setting this field to *0* will scan all images.

. Click *Add*.

. Click the yellow save button.
+
image::save_button.png[width=50]
+
// ==== Results
//
// Reusable content fragment.
include::frag_results.adoc[leveloffset=0]
