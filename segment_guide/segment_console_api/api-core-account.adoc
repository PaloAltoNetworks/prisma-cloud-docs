== core/account

=== Account

Allows you to view and manage basic information about your account like
your name, password, and whether or not two-factor authentication is
enabled.

==== Example

[source,json]
----
{
  "OTPEnabled": false,
  "SSHCARenew": false,
  "accessEnabled": false,
  "company": "Acme",
  "email": "user@acme.com",
  "firstName": "John",
  "lastName": "Doe",
  "localCARenew": false,
  "name": "acme"
}
----

==== Relations

===== `GET /accounts`

Retrieves all accounts. This is a private API that can only be done by
the system.

Parameters:

* `associatedBillingID` (`string`): internal parameters.
* `name` (`string`): internal parameters.
* `status` (`string`): internal parameters.
* `q` (`string`): Filtering query. Consequent `q` parameters will form
an or.

===== `POST /accounts`

Creates a new account.

===== `DELETE /accounts/:id`

Deletes the object with the given ID.

Parameters:

* `q` (`string`): Filtering query. Consequent `q` parameters will form
an or.

===== `GET /accounts/:id`

Retrieves the object with the given ID.

===== `PUT /accounts/:id`

Updates the object with the given ID.

==== Attributes

===== `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

Identifier of the object.

===== `OTPEnabled`

Type: `boolean`

Enable or disable two-factor authentication.

===== `OTPQRCode` [`autogenerated`,`read_only`]

Type: `string`

Returns the base64-encoded QR code for setting up two-factor
authentication.

===== `SSHCA` [`autogenerated`,`read_only`]

Type: `string`

Holds the SSH certificate authority used by the account namespace.

===== `SSHCARenew`

Type: `boolean`

Set to `true` to renew the SSH certificate authority of the account
namespace.

===== `accessEnabled`

Type: `boolean`

Defines if the account holder should have access to the system.

===== `activationToken` [`autogenerated`]

Type: `string`

Contains the activation token.

===== `associatedBillingID`

Type: `string`

Holds the ID of the associated billing customer.

===== `associatedPlanKey` [`creation_only`]

Type: `string`

Contains the plan key associated with this account.

===== `company`

Type: `string`

Company of the account user.

===== `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

===== `email` [`required`]

Type: `string`

Email of the account holder.

===== `firstName`

Type: `string`

First name of the account user.

===== `lastName`

Type: `string`

Last name of the account user.

===== `localCA` [`autogenerated`,`read_only`]

Type: `string`

The certificate authority used by this namespace.

===== `localCARenew`

Type: `boolean`

Set to `true` to renew the local certificate authority of the account
namespace.

===== `name` [`required`,`creation_only`,`+format=^[^\*\=]*$+`]

Type: `string`

Name of the account.

===== `newPassword`

Type: `string`

New password for the account. If set the previous password must be given
through the property `password`.

===== `password`

Type: `string`

Password for the account.

===== `reCAPTCHAKey` [`creation_only`]

Type: `string`

Contains the completely automated public Turing test (CAPTCHA)
validation if reCAPTCHA is enabled.

===== `status` [`autogenerated`,`read_only`]

Type: `enum(Active | Disabled | Invited | Pending)`

Status of the account.

Default value:

[source,json]
----
"Pending"
----

===== `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

=== Activate

Used to activate a pending account.

==== Example

[source,json]
----
{
  "token": "2BB3D52C-DE26-406A-8821-613F102282B0"
}
----

==== Relations

===== `GET /activate`

Activates a pending account.

Parameters:

* `noRedirect` (`boolean`): If set, do not redirect the request to the
web interface.
* `token` (`string`): Activation token.

Mandatory Parameters

`token`

==== Attributes

===== `token` [`creation_only`]

Type: `string`

Contains the activation token.

=== PasswordReset

Used to reset a Segment account password.

==== Example

[source,json]
----
{
  "password": "NewPassword123@",
  "token": "436676D4-7ECA-4853-A572-0644EE9D89EF"
}
----

==== Relations

===== `GET /passwordreset`

Sends a link to the account email to reset the password.

Parameters:

* `email` (`string`): Email associated to the account.

Mandatory Parameters

`email`

===== `POST /passwordreset`

Resets the password for an account using the provided link.

==== Attributes

===== `password` [`required`]

Type: `string`

Contains the new password.

===== `token` [`required`]

Type: `string`

Contains the reset password token.
