// WE PULL THIS CONTENT FROM https://github.com/aporeto-inc/junon
// DO NOT EDIT THIS FILE.
// YOU MUST SUBMIT A PR AGAINST THE UPSTREAM REPO.
// THE UPSTREAM REPO IS CURRENTLY PRIVATE.

== Namespaces

=== About namespaces

Namespaces define logical groups of resources. You should group your
resources according to their users, which may be inside or outside of
your organization. An optimal namespace scheme will make it easier to
provide a good user experience and control access. Some goals,
recommendations, and considerations follow.

* *Operator namespaces*—namespaces have hierarchical relationships, like
folders in a file system. You can propagate objects from parent to
child, but never from child to child or child to parent. The users
responsible for administering the system, called operators, should have
namespaces near the top of the hierarchy. This allows the operators to
propagate objects to the child namespaces. Propagation reduces manual
work effort and allows the operators to ensure that the children conform
to basic security requirements.
* *Security zones*—grouping resources according to their level of
exposure to users outside your organization helps you control access
with network policies. Let’s consider a common example: separating the
development from the production environment. Only developers can access
the development environment, allowing them to innovate in a safe space.
Once the code is stabilized and tested, it’s pushed to production. Only
production is available to the public.
* *Multi-tenancy*—creating a namespace per team or project provides
better usability. Users can log into Segment Console and view just the
resources that pertain to them. It also protects users from each other,
prevents unauthorized modifications, and allows you to follow the
https://csrc.nist.gov/glossary/term/least_privilege[principle of least
privilege].

=== Recommended namespace scheme

The following diagram illustrates our recommended namespace scheme. It
provides multi-tenancy, isolates developers from operators, and
separates the development environment from the production environment.

Beneath the root namespace `/acme`, we have two tenants: `team-a` and
`team-b`.

Only the operators can access the top-level namespaces: `/acme`,
`/acme/team-a`, and `/acme/team-a`. The operators set policy in the
top-level namespaces and propagate it down to the children:
`/acme/team-a/dev` and `/acme/team-a/prod`. Developers can view the
propagated policy, but cannot modify it. The policy ensures that:

* Apps under development cannot access the production database.
* Only the production web server accepts requests from the public
internet.

image::ns-multi-tenant.png[]

In a Kubernetes/OpenShift context, the `/acme/team-a/dev`,
`/acme/team-a/prod`, `/acme/team-b/prod`, and `/acme/team-b/dev`
namespaces represent clusters. They will have as children the
Kubernetes/OpenShift namespaces, mapped and synchronized by Segment.

In non-orchestrated environments, you may wish to add children
namespaces beneath `dev` and `prod` to contain applications.
