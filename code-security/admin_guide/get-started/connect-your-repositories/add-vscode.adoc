:topic_type: task

[.task]
== Add VScode to Prisma Cloud Code Security

Integrating VScode (Visual Studio Code) with Prisma Cloud Code Security makes it possible for you to identify misconfigurations before you commit your code, and avoid pull requests that can potentially fail builds due to undetected misconfigurations. Using Checkov, a code analysis tool that scans Infrastructure-as-code (IaC) files from frameworks such as Terraform, CloudFormation, and Azure Resource Manager (ARM) on VScode (Visual Studio Code) gives you immediate detection of misconfigurations and inline code fixes.
Apart from the scanning the common industry standard policies, Checkov also identifies custom policies that you can configure during <<_add-a-new-custom-policy-for-build-time-checks,custom build-time checks>>.

Before you begin with VScode (Visual Studio Code) integration, you must first <<_generate-access-keys,generate access keys>> and have https://www.python.org/downloads/[Python] version 3.7 or above installed, as Checkov runs on Python. Alternatively, https://docs.pipenv.org/[Pipenv] or https://www.docker.com/products/docker-desktop[Docker] is also recommended. A configuration of Checkov extension on VScode (Visual Studio Code) during the code build with IaC security feedback within code reviews and CI/CD pipelines, helps you catch misconfigurations before your code is merged centrally.


[.procedure]

. Access VScode (Visual Studio Code) on Prisma Cloud Code Security from *Settings > Repositories > Add Repositories* and then select *VScode*.
+
image::vscode.png[width=600]
+
You will be directed to Visual Studio Code Marketplace.
. Select *Install > Continue > Open Visual Studio Code* and then select *Install* to install Checkov Extension on VScode (Visual Studio Code).
+
image::vscode-install.gif[width=800]
+
. Select *Extension Settings* and then enter your Prisma Cloud application API for *Checkov:Prisma URL* for example *https://api.prismacloud.io*.
+
image::vscode-3.png[width=600]
. Add your Prisma Cloud access key and secret key as *"Access Key::Secret Key"* for *Checkov:Token*.
+
image::vscode-4.png[width=600]
+
You can optionally choose to add a custom CA-Certificate and enter the certificate path to configure for *Checkov:Certificate*. Ensure your CA-Certificate is in ".pem" format.
+
image::vscode-5.png[width=600]
+
A Checkov scan runs each time you access a file on VScode (Visual Studio Code).
. Select a misconfiguration and then select *Fix* for Checkov to fix the misconfiguration.
+
Each misconfiguration has details on the policy violation and guidelines to fix the policy. For custom policy misconfigurations a manual fix is required.

=== Troubleshoot Logs

In case of a Checkov scan fail, you can access Checkov logs to know see more details.

. Access VScode (Visual Studio Code) *Command Palette* or enter *Ctrl + Shift + P* for Windows or *Cmd + Shift + P* for Mac and then run command  *Developer: Open Extensions Logs Folder*.

. Access *Bridgecrew.checkov > checkov.log* to see the log details.
+
image::vscode-6.png[width=600]